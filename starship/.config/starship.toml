# ------------------------------------------------------------------
# Global behavior
# ------------------------------------------------------------------

# Bash blocks on slow commands — fail fast instead of hanging
command_timeout = 300

# Keep prompt compact and readable
add_newline = true

# ------------------------------------------------------------------
# Directory (kept, lightly tuned)
# ------------------------------------------------------------------

[directory]
truncation_length = 3
truncate_to_repo = false
fish_style_pwd_dir_length = 1
style = "bold blue"

# ------------------------------------------------------------------
# Git — aggressively optimized for bash
# ------------------------------------------------------------------

[git_branch]
symbol = ""
style = "bold purple"
only_attached = true
format = " [$branch]($style)"

[git_status]
# Keep *very* lightweight indicators only
format = " [$all_status$ahead_behind]($style)"
style = "bold yellow"

# Disable expensive checks
conflicted = ""
stashed = ""
untracked = ""
modified = "!"
staged = "+"
renamed = ""
deleted = ""

# These are surprisingly expensive in large repos
ignore_submodules = true

# ------------------------------------------------------------------
# Language/toolchain modules (only show when relevant)
# ------------------------------------------------------------------

[nodejs]
format = " [node $version]($style)"
detect_files = ["package.json"]
detect_extensions = []

[python]
format = " [py $version]($style)"
detect_extensions = []
detect_files = ["pyproject.toml", "requirements.txt"]

[rust]
format = " [rust $version]($style)"
detect_extensions = []
detect_files = ["Cargo.toml"]

[aws]
disabled = true

[gcloud]
disabled = true

# "bold red" style when capacity is between 0% and 10%
[[battery.display]]
threshold = 10
style = "bold red"

# "bold yellow" style when capacity is between 10% and 30%
[[battery.display]]
threshold = 30
style = "bold yellow"

[dotnet]
disabled = true

[java]
disabled = true

[package]
disabled = true

[ruby]
symbol = "ruby "

[terraform]
symbol = "tf "

[time]
disabled = false
use_12hr = true
style = "#ffffff"

[username]
show_always = true
